CMAKE_MINIMUM_REQUIRED(VERSION 2.8)

FIND_PACKAGE(OpenFLUID REQUIRED core base tools ware)

MESSAGE("OpenFLUID_FOUND: " ${OpenFLUID_FOUND})
MESSAGE("OpenFLUID_VERSION: " ${OpenFLUID_VERSION})
MESSAGE("OpenFLUID_INCLUDE_DIR: " ${OpenFLUID_INCLUDE_DIR})
MESSAGE("OpenFLUID_INCLUDE_DIRS: " ${OpenFLUID_INCLUDE_DIR})
MESSAGE("OpenFLUID_LIBRARY_DIR: " ${OpenFLUID_LIBRARY_DIR})
MESSAGE("OpenFLUID_LIBRARY_DIRS: " ${OpenFLUID_LIBRARY_DIR})
MESSAGE("OpenFLUID_CORE_LIBRARY: " ${OpenFLUID_CORE_LIBRARY})
MESSAGE("OpenFLUID_BASE_LIBRARY: " ${OpenFLUID_BASE_LIBRARY})
MESSAGE("OpenFLUID_TOOLS_LIBRARY: " ${OpenFLUID_TOOLS_LIBRARY})
MESSAGE("OpenFLUID_WARE_LIBRARY: " ${OpenFLUID_WARE_LIBRARY})
MESSAGE("OpenFLUID_LIBRARIES: " ${OpenFLUID_LIBRARIES})
MESSAGE("OpenFLUID_ENGINE_PROGRAM: " ${OpenFLUID_ENGINE_PROGRAM})
MESSAGE("OpenFLUID_OBSERVER_FILENAME_SUFFIX: " ${OpenFLUID_OBSERVER_FILENAME_SUFFIX})
MESSAGE("OpenFLUID_FUNCTION_FILENAME_SUFFIX: " ${OpenFLUID_FUNCTION_FILENAME_SUFFIX})

FIND_PACKAGE(PkgConfig REQUIRED)
PKG_CHECK_MODULES(GLIBMM REQUIRED glibmm-2.4)
PKG_CHECK_MODULES(GTHREAD REQUIRED gthread-2.0)


INCLUDE_DIRECTORIES(${OpenFLUID_INCLUDE_DIRS} ${OpenFLUID_EXTRA_INCLUDE_DIRS} ${GLIBMM_INCLUDE_DIRS})
LINK_DIRECTORIES(${OpenFLUID_LIBRARY_DIRS} ${GLIBMM_LIBRARY_DIRS}) 

SET(FUNC_ID tests.cmake${OpenFLUID_FUNCTION_FILENAME_SUFFIX})

ADD_LIBRARY(${FUNC_ID} MODULE CMakeFunc.cpp)

TARGET_LINK_LIBRARIES(${FUNC_ID} ${OpenFLUID_LIBRARIES} ${GLIBMM_LIBRARIES} ${GTHREAD_LIBRARIES})



