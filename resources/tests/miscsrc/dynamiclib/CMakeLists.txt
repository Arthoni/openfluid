INCLUDE_DIRECTORIES("${PROJECT_SOURCE_DIR}/src" "${PROJECT_BINARY_DIR}/src")

FOREACH(DLIBNAME IN ITEMS "dlibplugin1" "dlibplugin2")
  ADD_LIBRARY(${DLIBNAME} MODULE "${DLIBNAME}.cpp")
  SET_TARGET_PROPERTIES(${DLIBNAME} PROPERTIES 
                                    PREFIX ""
                                    SUFFIX "${OPENFLUID_PLUGINS_BINARY_EXTENSION}"
                                    LIBRARY_OUTPUT_DIRECTORY "${OFBUILD_TESTS_BINARY_DIR}")
  IF(WIN32)
    SET_TARGET_PROPERTIES(${DLIBNAME} PROPERTIES LINK_FLAGS "-shared")
  ENDIF()
ENDFOREACH()
